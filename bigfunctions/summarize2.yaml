type: function_py
category: machine_learning
author:
  name: Julien MIQUEL
  url: https://www.linkedin.com/in/miquelj
  avatar_url: "https://media-exp1.licdn.com/dms/image/C4E03AQF92ENRMYC3Mw/profile-displayphoto-shrink_800_800/0/1656924490995?e=1675900800&v=beta&t=Ertn0DSUvqzexmymI6NDba3TrXaSLRM_cQ5dxjmTkzo"
description: |
  Summarize Text
  using t5-base model.
arguments:
  - name: content
    type: string
output:
  name: summary
  type: string
examples:
  - description: ""
    arguments:
      - "''"
    output: ""
    region: ALL
code: |
  if not content:
      return None
  from transformers import pipeline
  summarizer = pipeline("summarization", model="./mymodel")
  result = summarizer(content, max_length=130, min_length=30, do_sample=False)
  return result[0]['summary_text']
requirements: |
  transformers[torch]
cloud_run:
  memory: 6Gi
  concurrency: 2
  max_instances: 10
additional_install_commands_in_dockerfile: |
  RUN python -c "from transformers import pipeline; pipeline('summarization', model='t5-base').save_pretrained('./mymodel')"